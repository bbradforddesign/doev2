(this["webpackJsonpdoe-frontend-v2"]=this["webpackJsonpdoe-frontend-v2"]||[]).push([[0],{127:function(e,t,a){e.exports=a(233)},132:function(e,t,a){},233:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=(a(132),a(13)),i=a(20),s=a(12),u=a(7),m=a.n(u),d=a(17),p=a(24),g="https://salty-wildwood-19678.herokuapp.com",h=Object(p.b)({name:"auth",initialState:{loggedIn:!1,message:""},reducers:{setAuth:function(e){e.loggedIn=!0},removeAuth:function(e){e.loggedIn=!1},loadMessage:function(e,t){var a=t.payload;e.message=a}}}),f=h.actions,b=f.setAuth,y=f.removeAuth,v=f.loadMessage,E=function(e){return e.auth},w=h.reducer;function x(){return function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(g,"/api/v1/users/logout"),{method:"get",credentials:"include"});case 3:t(y()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}var j=a(15),k=a.n(j),O=Object(p.b)({name:"transactions",initialState:{loadingTransactions:!1,hasErrorsTransactions:!1,responseCode:"",all:[],monthlyTotals:[],monthly:[],categoryTotals:[]},reducers:{getTransactions:function(e){e.loadingTransactions=!0},getMonthly:function(e,t){var a=t.payload;e.monthly=a.rows,e.categoryTotals=a.categoryTotals},getAll:function(e,t){var a=t.payload;e.all=a.rows,e.monthlyTotals=a.monthlyTotals},setCode:function(e,t){var a=t.payload;e.responseCode=a},getTransactionsSuccess:function(e){e.loadingTransactions=!1,e.hasErrorsTransactions=!1},getTransactionsFailure:function(e){e.loadingTransactions=!1,e.hasErrorsTransactions=!0}}}),C=O.actions,D=C.getTransactions,N=C.getTransactionsSuccess,T=C.getTransactionsFailure,S=C.getAll,I=C.getMonthly,M=C.setCode,F=function(e){return e.transactions},Y=O.reducer;var B={month:k()().format("YYYY-MM-DD")},A=Object(p.b)({name:"ui",initialState:B,reducers:{loadMonth:function(e,t){var a=t.payload;e.month=a}}}),L=A.actions.loadMonth,H=function(e){return e.ui},G=A.reducer;var W=Object(p.b)({name:"goals",initialState:{loading:!1,hasErrors:!1,goals:[],totals:[]},reducers:{getGoals:function(e){e.loading=!0},getGoalsSuccess:function(e,t){var a=t.payload;e.goals=a.rows,e.totals=a.categoryTotals,e.loading=!1,e.hasErrors=!1},getGoalsFailure:function(e){e.loading=!1,e.hasErrors=!0}}}),P=W.actions,J=P.getGoals,$=P.getGoalsSuccess,R=P.getGoalsFailure,U=function(e){return e.goals},z=W.reducer;var q=a(274),V=a(266),_=a(269),K=a(270),Q=a(272),X=a(235),Z=a(114),ee=a.n(Z),te=a(115),ae=a.n(te),ne=a(116),re=a.n(ne),oe=a(264),ce=a(271),le=a(119),ie=a(275),se=Object(le.a)(),ue=se=Object(ie.a)(se),me=function(){var e=Object(s.b)(),t=Object(s.c)(E);return r.a.createElement("div",null,t.loggedIn?r.a.createElement(X.a,{onClick:function(){e(x())}},"Logout"):r.a.createElement(l.a,{to:{pathname:"/login"}}))},de=a(9),pe=a(35),ge=a(26),he=a(265),fe=a(273),be=Object(oe.a)({formContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100vw",height:"70vh"},formBody:{width:"300px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},formTextInput:{display:"flex",flexDirection:"column",width:"80%",margin:"5%"},formButtons:{display:"flex",flexDirection:"row",alignSelf:"flex-end",justifyContent:"flex-end",margin:"5%"},formHeader:{margin:"10%"}}),ye=function(){var e=be(),t=Object(s.b)(),a=Object(s.c)(E),o=Object(n.useState)({username:"",password:""}),c=Object(ge.a)(o,2),i=c[0],u=c[1],p=function(){var e,a;t((e=i.username,a=i.password,function(){var t=Object(d.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(g,"/api/v1/users/login"),{method:"post",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({username:e,password:a})});case 3:200===t.sent.status?(n(b()),n(v(""))):n(v("Invalid username/password")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))},h=function(){var e,a;t((e=i.username,a=i.password,function(){var t=Object(d.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(g,"/api/v1/users"),{method:"post",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({username:e,password:a})});case 3:(r=t.sent).status>=200&&r.status<=300?(n(b()),n(v(""))):n(v("Username taken")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))},f=function(e){u(Object(pe.a)(Object(pe.a)({},i),{},Object(de.a)({},e.target.name,e.target.value)))};return r.a.createElement(q.a,{className:e.formContainer},r.a.createElement(he.a,{className:e.formBody},a.loggedIn?r.a.createElement(l.a,{to:{pathname:"/transaction"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.formHeader},r.a.createElement(V.a,{variant:"h3"},"Welcome!"),r.a.createElement(V.a,{variant:"subtitle1",align:"center"},"Let's get started.")),a.message&&r.a.createElement(V.a,{variant:"subtitle1",color:"secondary"},a.message),r.a.createElement("div",{className:e.formTextInput},r.a.createElement(fe.a,{type:"text",label:"Username",name:"username",variant:"outlined",autoComplete:"username",onChange:f,style:{marginBottom:"10%"}}),r.a.createElement(fe.a,{type:"password",label:"Password",name:"password",variant:"outlined",autoComplete:"new-password",onChange:f,style:{marginBottom:"10%"}})),r.a.createElement("div",{className:e.formButtons},i.username&&i.password?r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{variant:"text",color:"primary",onClick:function(){return h()}},"Register"),r.a.createElement(X.a,{variant:"contained",color:"primary",onClick:function(){return p()}},"Login")):r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{variant:"text",color:"primary",disabled:!0},"Register"),r.a.createElement(X.a,{variant:"contained",color:"primary",disabled:!0},"Login"))))))},ve="https://salty-wildwood-19678.herokuapp.com",Ee=new AbortController,we={Create:function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ve,"/api/v1/transactions"),{method:"post",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({category:t,description:a,amount:n,date:r})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return Ee.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Update:function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,r,o){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ve,"/api/v1/transactions/").concat(t),{method:"put",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({category:a,description:n,amount:r,date:o})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return Ee.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),Delete:function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ve,"/api/v1/transactions/").concat(t),{method:"delete",credentials:"include",headers:new Headers({"Content-Type":"application/json"})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return Ee.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},xe=a(276),je=a(267),ke=a(237),Oe=Object(ke.a)({buttonLink:{textDecoration:"none"},formModal:{padding:"2%",position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},formBackground:{position:"fixed",width:"100vw",height:"100vh",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(200,200,200,.75)",display:"flex",justifyContent:"center",alignItems:"center"}}),Ce=Object(l.g)((function(e){var t=Oe(),a=Object(n.useState)({category:"",amount:0,description:"",date:""}),o=Object(ge.a)(a,2),c=o[0],l=o[1],s=e.location.props,u=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:we.Create(c.category,c.description,c.amount,c.date);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e){l(Object(pe.a)(Object(pe.a)({},c),{},Object(de.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){s&&l({category:s.category,amount:s.amount,description:s.description,date:s.date})}),[s]);var g=function(){e.history.replace("/transaction"),window.location.reload()};return r.a.createElement(q.a,{className:t.formBackground},r.a.createElement(he.a,{className:t.formModal},r.a.createElement(V.a,{variant:"h2"},s?"Edit Expense":"New Expense"),r.a.createElement(fe.a,{id:"date",label:"Date",type:"date",name:"date",value:k()(c.date).format("YYYY-MM-DD"),onChange:p,InputLabelProps:{shrink:!0},margin:"normal",fullWidth:!0,required:!0}),r.a.createElement(fe.a,{label:"Category",id:"category",select:!0,name:"category",value:c.category,onChange:p,placeholder:s?s.category:"Category",margin:"normal",fullWidth:!0,required:!0},["Housing","Transportation","Food","Utilities","Clothing","Healthcare","Insurance","Household Supplies","Personal","Debt","Retirement","Education","Savings","Gifts/Donations","Entertainment"].map((function(e){return r.a.createElement(xe.a,{value:e,key:e},e)}))),r.a.createElement(fe.a,{variant:"outlined",label:"Description",name:"description",onChange:p,placeholder:"Description",defaultValue:s&&s.description,margin:"normal",fullWidth:!0}),r.a.createElement(fe.a,{variant:"outlined",label:"Amount",type:"number",name:"amount",onChange:p,error:c.amount<=0,helperText:c.amount<=0&&"Amount must be greater than 0",placeholder:"Amount",defaultValue:s&&s.amount,margin:"normal",fullWidth:!0,required:!0}),r.a.createElement(je.a,{variant:"outlined",color:"primary",style:{marginTop:"10%"}},r.a.createElement(i.b,{to:{pathname:"/transaction"},className:t.buttonLink},r.a.createElement(X.a,{variant:"outlined",color:"secondary"},"Cancel")),(s||c.amount&&c.category)&&r.a.createElement(X.a,{onClick:function(){s?we.Update(s.id,c.category,c.description,c.amount,c.date):u(),g()}},"Save"),s&&r.a.createElement(X.a,{onClick:function(){we.Delete(s.id),g()}},"Delete"))))})),De=new AbortController,Ne="https://salty-wildwood-19678.herokuapp.com",Te={Create:function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ne,"/api/v1/goals"),{method:"post",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({category:t,amount:a,date:n,description:r})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return De.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Update:function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,r,o){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ne,"/api/v1/goals/").concat(t),{method:"put",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({category:a,amount:n,date:r,description:o})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return De.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),Delete:function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ne,"S/api/v1/goals/").concat(t),{method:"delete",credentials:"include",headers:new Headers({"Content-Type":"application/json"})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return De.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},Se=Object(ke.a)({buttonLink:{textDecoration:"none"},formModal:{padding:"2%",position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},formBackground:{position:"fixed",width:"100vw",height:"100vh",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(200,200,200,.75)",display:"flex",justifyContent:"center",alignItems:"center"}}),Ie=Object(l.g)((function(e){var t=Se(),a=Object(n.useState)({category:"",amount:0,date:k()().format("YYYY/MM/DD")}),o=Object(ge.a)(a,2),c=o[0],l=o[1],s=e.location.props,u=function(e){l(Object(pe.a)(Object(pe.a)({},c),{},Object(de.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){s&&l({category:s.category,amount:s.amount})}),[s]);var m=function(){e.history.replace("/goal"),window.location.reload()};return r.a.createElement(q.a,{className:t.formBackground},r.a.createElement(he.a,{className:t.formModal},r.a.createElement(V.a,{variant:"h2"},s?"Edit Goal":"New Goal"),r.a.createElement(fe.a,{label:"Category",id:"category",select:!0,name:"category",value:c.category,onChange:u,placeholder:s?s.category:"Category",className:t.formField,margin:"normal",fullWidth:!0,required:!0},["Housing","Transportation","Food","Utilities","Clothing","Healthcare","Insurance","Household Supplies","Personal","Debt","Retirement","Education","Savings","Gifts/Donations","Entertainment"].map((function(e){return r.a.createElement(xe.a,{value:e,key:e},e)}))),r.a.createElement(fe.a,{variant:"outlined",label:"Amount",type:"number",name:"amount",onChange:u,value:c.amount,error:c.amount<1,helperText:c.amount<1&&"Amount must be greater than 0",placeholder:s?String(s.amount):"Amount",className:t.formField,margin:"normal",fullWidth:!0,required:!0}),r.a.createElement(je.a,{variant:"outlined",color:"primary",style:{marginTop:"10%"}},r.a.createElement(i.b,{to:{pathname:"/goal"},className:t.buttonLink},r.a.createElement(X.a,{variant:"outlined",color:"secondary"},"Cancel")),(s||c.amount&&c.category)&&r.a.createElement(X.a,{onClick:function(){s?Te.Update(s.id,c.category,c.amount,c.date):Te.Create(c.category,c.amount,c.date),m()}},"Save"),s&&r.a.createElement(X.a,{onClick:function(){Te.Delete(s.id),m()}},"Delete"))))})),Me=a(268),Fe=a(109),Ye=a.n(Fe),Be=a(110),Ae=a.n(Be),Le=a(111),He=a.n(Le),Ge=Object(oe.a)((function(e){return{theme:e,root:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",padding:"0 2%",width:"96%",minWidth:"400px",margin:"2vh 0",backgroundColor:"rgb(75,100,255)",color:"#FFF"}}})),We=function(){var e=Ge(),t=Object(s.c)(H),a=Object(s.b)();return r.a.createElement(he.a,{className:e.root},r.a.createElement(V.a,{variant:"h3",align:"left"},k()(t.month).format("MMM YYYY")),r.a.createElement(je.a,null,r.a.createElement(Me.a,{onClick:function(){return a((e=t.month,function(t){t(L(k()(e).subtract(1,"months").format("YYYY-MM-DD")))}));var e}},r.a.createElement(Ye.a,{fontSize:"large",htmlColor:"#FFF"})),r.a.createElement(Me.a,{onClick:function(){return a((function(e){e(L(k()()))}))}},r.a.createElement(Ae.a,{fontSize:"large",htmlColor:"#FFF"})),r.a.createElement(Me.a,{onClick:function(){return a((e=t.month,function(t){t(L(k()(e).add(1,"months").format("YYYY-MM-DD")))}));var e}},r.a.createElement(He.a,{fontSize:"large",htmlColor:"#FFF"}))))},Pe=a(82),Je=a.n(Pe),$e=a(112),Re=a.n($e),Ue=Object(oe.a)((function(e){return{root:Object(de.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",height:"90%"},e.breakpoints.up("md"),{flexDirection:"row",justifyContent:"space-between"}),scrollList:{overflow:"hidden",overflowY:"scroll",height:"70%",width:"100%",margin:"5% 0"},body:Object(de.a)({height:"85%",width:"80%",display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.up("md"),{width:"50%",height:"90%",alignSelf:"flex-start"}),head:Object(de.a)({},e.breakpoints.up("md"),{width:"30%"})}})),ze=function(e){var t=Ue(),a=e.type,n=Object(s.c)(e.selector),o="goal"===a?n.goals:n.monthly;return r.a.createElement("section",{className:t.root},r.a.createElement(q.a,{className:t.head},r.a.createElement(V.a,{variant:"h2",align:"center",color:"textPrimary"},"goal"===a?"Spending Goals":"Monthly Expenses"),r.a.createElement(V.a,{variant:"h6",align:"center",style:{marginTop:"5%"}},"goal"===a?"Set budgeting goals for any category":"Track expenses for each month")),r.a.createElement(q.a,{className:t.body},o.length>0?r.a.createElement(he.a,{className:t.scrollList},r.a.createElement("ul",null,o.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{style:{display:"flex",flexDirection:"transaction"===a?"row":"row-reverse",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"5%"}},"transaction"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{variant:"caption",textAlign:"left",style:{alignSelf:"center",marginLeft:"3%"}},r.a.createElement("strong",null,e.category," -"," ",k()(e.created_date).format("MM/DD/YYYY"))),r.a.createElement(i.b,{to:{pathname:"/edit/transaction",props:{id:e.id,category:e.category,amount:e.amount,description:e.description}}},r.a.createElement(Me.a,null,r.a.createElement(Je.a,{fontSize:"small",color:"primary"})))):r.a.createElement(i.b,{to:{pathname:"/edit/goal",props:{id:e.id,category:e.category,amount:e.amount,description:e.description}}},r.a.createElement(Me.a,null,r.a.createElement(Je.a,{fontSize:"small",color:"primary"})))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"0 3%"}},r.a.createElement(V.a,{variant:"subtitle1"},e.category),r.a.createElement(V.a,{variant:"subtitle1"},r.a.createElement("strong",null,"$",e.amount))),r.a.createElement("hr",{style:{margin:"0 3%"}}))})))):r.a.createElement(he.a,{className:t.scrollList,style:{display:"flex",justifyContent:"center",alignItems:"center"}},"transaction"===a?r.a.createElement(V.a,{variant:"subtitle1"},"No expenses recorded.",r.a.createElement("br",null),"Let's get started!"):r.a.createElement(V.a,{variant:"subtitle1"},"No spending goals set.",r.a.createElement("br",null),"Let's get started!")),r.a.createElement(i.b,{to:"/create/".concat(a),style:{textDecoration:"none"}},r.a.createElement(he.a,{style:{backgroundColor:"rgb(75,100,255)",paddingRight:"15px"}},r.a.createElement(Me.a,null,r.a.createElement(Re.a,{fontSize:"large",htmlColor:"white"})),r.a.createElement(V.a,{variant:"caption",align:"center",className:"CreateButton"},"Create")))))},qe=Object(oe.a)((function(e){var t;return{root:(t={padding:"0 5%"},Object(de.a)(t,e.breakpoints.down("sm"),{height:"90%"}),Object(de.a)(t,e.breakpoints.up("md"),{height:"30vh"}),t),scrollList:Object(de.a)({padding:"0 3% 0 0",height:"75%"},e.breakpoints.up("md"),{overflow:"hidden",overflowY:"scroll"})}})),Ve=function(e){return r.a.createElement(q.a,{style:{display:"flex",flexDirection:"row",height:"8px",width:"100%",marginBottom:"8px"}},r.a.createElement(q.a,{style:{backgroundColor:e.max<=e.current?"rgb(225,125,125)":"rgb(125,255,125)",flex:e.current}}),r.a.createElement(q.a,{className:"growBar",style:{backgroundColor:"#f0f0f0",flex:e.max>=e.current?e.max-e.current:0}}))},_e=function(e){for(var t=e.goalState.totals,a=e.totals,n=[],o=0,c=Object.entries(t);o<c.length;o++){var l=Object(ge.a)(c[o],2),i=l[0],s=l[1];"All"!==i&&n.push({category:i,amount:s})}var u=qe();return r.a.createElement(q.a,{className:u.root},r.a.createElement(V.a,{variant:"h4",align:"center"},"Goal Progress"),n.length>0?r.a.createElement("ul",{className:u.scrollList},n.map((function(e){return r.a.createElement("li",{key:e.category},r.a.createElement(q.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(V.a,{variant:"subtitle2"},e.category),r.a.createElement(V.a,{variant:"subtitle1",style:{alignSelf:"flex-end"}},"$",a[e.category]?a[e.category]:0," / $",e.amount," Spent")),r.a.createElement(Ve,{max:e.amount,current:a[e.category]?a[e.category]:0,label:e.label}))}))):r.a.createElement(q.a,{style:{width:"100%",height:"70%",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(V.a,{variant:"subtitle1"},"No goals set.",r.a.createElement("br",null),"Set spending goals to view progress!")))},Ke=a(67),Qe=Object(oe.a)((function(e){return{head:{marginBottom:"5%"}}})),Xe=function(e){for(var t=Qe(),a=e.totals,n={labels:[],datasets:[{backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4"],hoverBackgroundColor:["#501800","#4B5000","#175000","#003350","#35014F"],data:[]}]},o=0,c=Object.entries(a);o<c.length;o++){var l=Object(ge.a)(c[o],2),i=l[0],s=l[1];"All"!==i&&(n.labels[i]||(n.labels.push(i),n.datasets[0].data.push(s)))}return r.a.createElement(q.a,null,r.a.createElement(V.a,{variant:"h3",align:"center",className:t.head},"Categories"),r.a.createElement(Ke.a,{data:n,height:280,options:{legend:{display:!0,position:"bottom"}}}))},Ze=Object(oe.a)((function(e){var t;return{root:{flexDirection:"column",display:"flex",alignItems:"center"},body:{display:"flex",flexDirection:"row",justifyContent:"center",width:"90%",padding:"5px 15px"},chart:(t={},Object(de.a)(t,e.breakpoints.up("md"),{width:"80%"}),Object(de.a)(t,e.breakpoints.down("sm"),{width:"90%",marginBottom:"5%"}),t)}})),et=function(){var e=Ze(),t=Object(s.c)(F).monthlyTotals,a=[];for(var n in t)a.push([n,t[n]]);var o=a.sort((function(e,t){return k()(e[0],"MM YY")-k()(t[0],"MM YY")})),c=o.length>12?o.slice(o.length-12):o,l={labels:[],datasets:[{label:"Monthly Total",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[]}]},i=[];return c.map((function(e){l.labels.push(e[0]),l.datasets[0].data.push(e[1]),i.push(e[1])})),r.a.createElement(q.a,{className:e.root},r.a.createElement(V.a,{variant:"h4"},"Monthly Trends"),i.length>0?r.a.createElement(q.a,{className:e.body},r.a.createElement("div",{className:e.chart},r.a.createElement(Ke.b,{data:l,height:260,options:{responsive:!0,maintainAspectRatio:!0,title:{display:!1},legend:{display:!1},spanGaps:!0,scales:{yAxes:[{ticks:{maxTicksLimit:6,min:0}}]}}})),r.a.createElement("div",null,r.a.createElement(V.a,{variant:"subtitle1",align:"right"},"Max"),r.a.createElement(V.a,{variant:"subtitle2",align:"right"},"$",Math.max.apply(Math,i).toFixed(2)),r.a.createElement(V.a,{variant:"subtitle1",align:"right"},"Min"),r.a.createElement(V.a,{variant:"subtitle2",align:"right"}," ","$",Math.min.apply(Math,i).toFixed(2)),r.a.createElement(V.a,{variant:"subtitle1",align:"right"},"Avg"),r.a.createElement(V.a,{variant:"subtitle2",align:"right"},"$",(i.reduce((function(e,t){return e+t}))/i.length).toFixed(2)),r.a.createElement(V.a,{variant:"subtitle1",align:"right",color:"primary"},"Total"),r.a.createElement(V.a,{variant:"subtitle2",align:"right",color:"primary"},"$",i.reduce((function(e,t){return e+t})).toFixed(2)))):r.a.createElement(V.a,{variant:"h3"},"No transactions recorded."))},tt=Object(oe.a)((function(e){var t,a,n;return{root:Object(de.a)({width:"100%",height:"80vh",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},e.breakpoints.down("sm"),{flexDirection:"column",justifyContent:"flex-start",width:"100%",overflow:"hidden",overflowY:"scroll"}),content:(t={display:"flex",alignItems:"center",width:"100%"},Object(de.a)(t,e.breakpoints.down("sm"),{flexDirection:"column"}),Object(de.a)(t,e.breakpoints.up("md"),{height:"100%",flexDirection:"row",justifyContent:"space-between"}),t),block:(a={display:"flex",flexDirection:"column",alignItems:"center"},Object(de.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(de.a)(a,e.breakpoints.up("md"),{width:"30%",height:"100%",alignItems:"center",justifyContent:"center"}),a),blockPie:(n={display:"flex",flexDirection:"column",alignItems:"center"},Object(de.a)(n,e.breakpoints.down("sm"),{width:"100%"}),Object(de.a)(n,e.breakpoints.up("md"),{width:"40%",height:"100%",alignItems:"center",justifyContent:"center"}),n),tile:Object(de.a)({margin:"0 0 2%",padding:"2% 0",width:"95%",maxWidth:"400px"},e.breakpoints.down("sm"),{marginBottom:"10%"}),message:Object(de.a)({display:"flex",alignItems:"center",height:"70%",width:"70%",margin:"10% 0",padding:"0 5%"},e.breakpoints.up("md"),{width:"40%"})}})),at=function(){var e=tt(),t=Object(s.c)(F),a=Object(s.c)(U),n=t.categoryTotals,o=Object(s.c)(H);return r.a.createElement(q.a,{className:e.root},n.All>0?r.a.createElement(q.a,{className:e.content},r.a.createElement(q.a,{className:e.block},r.a.createElement(V.a,{variant:"h2",align:"center"},"Spending Breakdown"),r.a.createElement(V.a,{variant:"h6",align:"center",style:{margin:"5% 0 10%"}},"This month's total: $",Number.parseFloat(n.All).toFixed(2))),r.a.createElement(q.a,{className:e.blockPie},r.a.createElement(he.a,{className:e.tile},r.a.createElement(Xe,{totals:n}))),r.a.createElement(q.a,{className:e.block},r.a.createElement(he.a,{className:e.tile},r.a.createElement(_e,{goalState:a,totals:n,month:o.month})),r.a.createElement(he.a,{className:e.tile},r.a.createElement(et,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{variant:"h2",align:"center",color:"textPrimary"},"Spending Breakdown"),r.a.createElement(he.a,{className:e.message},r.a.createElement(V.a,{variant:"subtitle1"},"This month doesn't have any expenses on record. Record transactions for this month to receive insights!"))))},nt=function(){var e=Object(s.b)(),t=Object(s.c)(E),a=Object(s.c)(F),o=a.monthly,c=a.responseCode,u=Object(s.c)(H);setTimeout((function(){e(x)}),72e5),Object(n.useEffect)((function(){var a;!0===t.loggedIn&&(e((a=u.month,function(){var e=Object(d.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(D()),e.prev=1,e.next=4,fetch("".concat("https://salty-wildwood-19678.herokuapp.com","/api/v1/transactions/range"),{method:"post",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({beginning:k()(a).startOf("month"),end:k()(a).endOf("month")})});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,t(M(n.status)),t(I(r)),t(N()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t(T());case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}())),e(function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(J()),e.prev=1,e.next=4,fetch("".concat("https://salty-wildwood-19678.herokuapp.com","/api/v1/goals/all"),{method:"get",credentials:"include",headers:new Headers({"Content-Type":"application/json"})});case 4:if(400!==(a=e.sent).status){e.next=9;break}t(R()),e.next=13;break;case 9:return e.next=11,a.json();case 11:n=e.sent,t($(n));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),t(R());case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(D()),e.prev=1,e.next=4,fetch("".concat("https://salty-wildwood-19678.herokuapp.com","/api/v1/transactions/all"),{method:"get",credentials:"include",headers:new Headers({"Content-Type":"application/json"})});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,t(M(a.status)),t(S(n)),t(N()),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t(T());case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,t,u.month]);var p=Object(oe.a)((function(e){return{root:{display:"flex",height:"93vh",flexDirection:"column"},bottomNav:{alignSelf:"flex-end",justifySelf:"center",width:"100%"}}}))();return r.a.createElement(i.a,null,r.a.createElement(ce.a,{theme:ue},r.a.createElement(Q.a,null,r.a.createElement(q.a,{style:{display:"flex",flexDirection:"row-reverse",alignItems:"center",height:"8vh",width:"100%"}},t.loggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null)):r.a.createElement(i.b,{to:"/login",style:{textDecoration:"none"}},r.a.createElement(X.a,null,"Login"))),r.a.createElement(l.b,{path:"/login"},r.a.createElement(q.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(ye,null))),t.loggedIn?200!==c?r.a.createElement(q.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100vw",height:"80vh"}},200!==c?r.a.createElement(V.a,{variant:"h2"},"Error ",c," :("):r.a.createElement(V.a,{variant:"h2"},"Redirecting..."),400===c?r.a.createElement(V.a,{variant:"body1"},"Your session has expired. Please log out and sign back in."):r.a.createElement(V.a,{variant:"body1"},"An error has occurred with our system. Please try again later!")):r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:p.root},r.a.createElement(We,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/transaction"},r.a.createElement(ze,{selector:F,type:"transaction"})),r.a.createElement(l.b,{path:"/goal"},r.a.createElement(ze,{selector:U,type:"goal"})),r.a.createElement(l.b,{path:"/breakdown"},r.a.createElement(at,null)),r.a.createElement(l.b,{path:"/create/transaction"},r.a.createElement(Ce,null)),r.a.createElement(l.b,{path:"/edit/transaction",render:function(e){return r.a.createElement(Ce,e)}}),r.a.createElement(l.b,{path:"/create/goal"},r.a.createElement(Ie,null)),r.a.createElement(l.b,{path:"/edit/goal",render:function(e){return r.a.createElement(Ie,e)}}))),r.a.createElement(_.a,{showLabels:!0,className:p.bottomNav},r.a.createElement(K.a,{label:"Transactions",icon:r.a.createElement(ee.a,null),component:i.b,to:"/transaction"}),r.a.createElement(K.a,{label:"Goals",icon:r.a.createElement(ae.a,null),component:i.b,to:"/goal"}),r.a.createElement(K.a,{label:"Breakdown",icon:r.a.createElement(re.a,null),component:i.b,to:"/breakdown"}))))):r.a.createElement(l.a,{to:"/login"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var rt=a(36),ot=a(117),ct=a.n(ot),lt=a(118),it=a(19),st=Object(it.c)({transactions:Y,goals:z,ui:G,auth:w}),ut={key:"root",storage:ct.a},mt=Object(rt.g)(ut,st),dt=Object(p.a)({reducer:mt,middleware:Object(p.c)({serializableCheck:{ignoredActions:[rt.a,rt.f,rt.b,rt.c,rt.d,rt.e]}})}),pt=Object(rt.h)(dt);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:dt},r.a.createElement(lt.a,{loading:null,persistor:pt},r.a.createElement(nt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[127,1,2]]]);
//# sourceMappingURL=main.3917714e.chunk.js.map