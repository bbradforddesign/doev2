(this["webpackJsonpdoe-frontend-v2"]=this["webpackJsonpdoe-frontend-v2"]||[]).push([[0],{127:function(e,t,a){e.exports=a(233)},132:function(e,t,a){},233:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=(a(132),a(13)),i=a(20),s=a(12),u=a(7),m=a.n(u),d=a(17),p=a(24),g=Object(p.b)({name:"auth",initialState:{loggedIn:!1,message:""},reducers:{setAuth:function(e){e.loggedIn=!0},removeAuth:function(e){e.loggedIn=!1},loadMessage:function(e,t){var a=t.payload;e.message=a}}}),f=g.actions,h=f.setAuth,b=f.removeAuth,y=f.loadMessage,v=function(e){return e.auth},E=g.reducer;function x(){return function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/users/logout",{method:"get",credentials:"include"});case 3:t(b()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}var w=a(15),j=a.n(w),O=Object(p.b)({name:"transactions",initialState:{loadingTransactions:!1,hasErrorsTransactions:!1,all:[],monthlyTotals:[],monthly:[],categoryTotals:[]},reducers:{getTransactions:function(e){e.loadingTransactions=!0},getMonthly:function(e,t){var a=t.payload;e.monthly=a.rows,e.categoryTotals=a.categoryTotals},getAll:function(e,t){var a=t.payload;e.all=a.rows,e.monthlyTotals=a.monthlyTotals},getTransactionsSuccess:function(e){e.loadingTransactions=!1,e.hasErrorsTransactions=!1},getTransactionsFailure:function(e){e.loadingTransactions=!1,e.hasErrorsTransactions=!0}}}),k=O.actions,C=k.getTransactions,D=k.getTransactionsSuccess,N=k.getTransactionsFailure,T=k.getAll,S=k.getMonthly,I=function(e){return e.transactions},M=O.reducer;var F={month:j()().format("YYYY-MM-DD")},Y=Object(p.b)({name:"ui",initialState:F,reducers:{loadMonth:function(e,t){var a=t.payload;e.month=a}}}),B=Y.actions.loadMonth,A=function(e){return e.ui},L=Y.reducer;var H=Object(p.b)({name:"goals",initialState:{loading:!1,hasErrors:!1,goals:[],totals:[]},reducers:{getGoals:function(e){e.loading=!0},getGoalsSuccess:function(e,t){var a=t.payload;e.goals=a.rows,e.totals=a.categoryTotals,e.loading=!1,e.hasErrors=!1},getGoalsFailure:function(e){e.loading=!1,e.hasErrors=!0}}}),G=H.actions,W=G.getGoals,P=G.getGoalsSuccess,J=G.getGoalsFailure,$=function(e){return e.goals},U=H.reducer;var z=a(274),R=a(266),q=a(269),V=a(270),_=a(272),K=a(235),Q=a(114),X=a.n(Q),Z=a(115),ee=a.n(Z),te=a(116),ae=a.n(te),ne=a(264),re=a(271),oe=a(119),ce=a(275),le=Object(oe.a)(),ie=le=Object(ce.a)(le),se=function(){var e=Object(s.b)(),t=Object(s.c)(v);return r.a.createElement("div",null,t.loggedIn?r.a.createElement(K.a,{onClick:function(){e(x())}},"Logout"):r.a.createElement(l.a,{to:{pathname:"/login"}}))},ue=a(9),me=a(35),de=a(26),pe=a(265),ge=a(273),fe=Object(ne.a)({formContainer:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100vw",height:"70vh"},formBody:{width:"300px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},formTextInput:{display:"flex",flexDirection:"column",width:"80%",margin:"5%"},formButtons:{display:"flex",flexDirection:"row",alignSelf:"flex-end",justifyContent:"flex-end",margin:"5%"},formHeader:{margin:"10%"}}),he=function(){var e=fe(),t=Object(s.b)(),a=Object(s.c)(v),o=Object(n.useState)({username:"",password:""}),c=Object(de.a)(o,2),i=c[0],u=c[1],p=function(){var e,a;t((e=i.username,a=i.password,function(){var t=Object(d.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/v1/users/login",{method:"post",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({username:e,password:a})});case 3:200===t.sent.status?(n(h()),n(y(""))):n(y("Invalid username/password")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))},g=function(){var e,a;t((e=i.username,a=i.password,function(){var t=Object(d.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/v1/users",{method:"post",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({username:e,password:a})});case 3:(r=t.sent).status>=200&&r.status<=300?(n(h()),n(y(""))):n(y("Username taken")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))},f=function(e){u(Object(me.a)(Object(me.a)({},i),{},Object(ue.a)({},e.target.name,e.target.value)))};return r.a.createElement(z.a,{className:e.formContainer},r.a.createElement(pe.a,{className:e.formBody},a.loggedIn?r.a.createElement(l.a,{to:{pathname:"/transaction"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.formHeader},r.a.createElement(R.a,{variant:"h3"},"Welcome!"),r.a.createElement(R.a,{variant:"subtitle1",align:"center"},"Let's get started.")),a.message&&r.a.createElement(R.a,{variant:"subtitle1",color:"secondary"},a.message),r.a.createElement("div",{className:e.formTextInput},r.a.createElement(ge.a,{type:"text",label:"Username",name:"username",variant:"outlined",autoComplete:"username",onChange:f,style:{marginBottom:"10%"}}),r.a.createElement(ge.a,{type:"password",label:"Password",name:"password",variant:"outlined",autoComplete:"new-password",onChange:f,style:{marginBottom:"10%"}})),r.a.createElement("div",{className:e.formButtons},i.username&&i.password?r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{variant:"text",color:"primary",onClick:function(){return g()}},"Register"),r.a.createElement(K.a,{variant:"contained",color:"primary",onClick:function(){return p()}},"Login")):r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{variant:"text",color:"primary",disabled:!0},"Register"),r.a.createElement(K.a,{variant:"contained",color:"primary",disabled:!0},"Login"))))))},be=new AbortController,ye={Create:function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/transactions",{method:"post",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({category:t,description:a,amount:n,date:r})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return be.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Update:function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,r,o){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/transactions/".concat(t),{method:"put",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({category:a,description:n,amount:r,date:o})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return be.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),Delete:function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/transactions/".concat(t),{method:"delete",credentials:"include",headers:new Headers({"Content-Type":"application/json"})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return be.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},ve=a(276),Ee=a(267),xe=a(237),we=Object(xe.a)({buttonLink:{textDecoration:"none"},formModal:{padding:"2%",position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},formBackground:{position:"fixed",width:"100vw",height:"100vh",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(200,200,200,.75)",display:"flex",justifyContent:"center",alignItems:"center"}}),je=Object(l.g)((function(e){var t=we(),a=Object(n.useState)({category:"",amount:0,description:"",date:""}),o=Object(de.a)(a,2),c=o[0],l=o[1],s=e.location.props,u=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye.Create(c.category,c.description,c.amount,c.date);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e){l(Object(me.a)(Object(me.a)({},c),{},Object(ue.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){s&&l({category:s.category,amount:s.amount,description:s.description,date:s.date})}),[s]);var g=function(){e.history.replace("/transaction"),window.location.reload()};return r.a.createElement(z.a,{className:t.formBackground},r.a.createElement(pe.a,{className:t.formModal},r.a.createElement(R.a,{variant:"h2"},s?"Edit Expense":"New Expense"),r.a.createElement(ge.a,{id:"date",label:"Date",type:"date",name:"date",value:j()(c.date).format("YYYY-MM-DD"),onChange:p,InputLabelProps:{shrink:!0},margin:"normal",fullWidth:!0,required:!0}),r.a.createElement(ge.a,{label:"Category",id:"category",select:!0,name:"category",value:c.category,onChange:p,placeholder:s?s.category:"Category",margin:"normal",fullWidth:!0,required:!0},["Housing","Transportation","Food","Utilities","Clothing","Healthcare","Insurance","Household Supplies","Personal","Debt","Retirement","Education","Savings","Gifts/Donations","Entertainment"].map((function(e){return r.a.createElement(ve.a,{value:e,key:e},e)}))),r.a.createElement(ge.a,{variant:"outlined",label:"Description",name:"description",onChange:p,placeholder:"Description",defaultValue:s&&s.description,margin:"normal",fullWidth:!0}),r.a.createElement(ge.a,{variant:"outlined",label:"Amount",type:"number",name:"amount",onChange:p,error:c.amount<=0,helperText:c.amount<=0&&"Amount must be greater than 0",placeholder:"Amount",defaultValue:s&&s.amount,margin:"normal",fullWidth:!0,required:!0}),r.a.createElement(Ee.a,{variant:"outlined",color:"primary",style:{marginTop:"10%"}},r.a.createElement(i.b,{to:{pathname:"/transaction"},className:t.buttonLink},r.a.createElement(K.a,{variant:"outlined",color:"secondary"},"Cancel")),(s||c.amount&&c.category)&&r.a.createElement(K.a,{onClick:function(){s?ye.Update(s.id,c.category,c.description,c.amount,c.date):u(),g()}},"Save"),s&&r.a.createElement(K.a,{onClick:function(){ye.Delete(s.id),g()}},"Delete"))))})),Oe=new AbortController,ke={Create:function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/goals",{method:"post",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({category:t,amount:a,date:n,description:r})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return Oe.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Update:function(){var e=Object(d.a)(m.a.mark((function e(t,a,n,r,o){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/goals/".concat(t),{method:"put",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({category:a,amount:n,date:r,description:o})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return Oe.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),Delete:function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/goals/".concat(t),{method:"delete",credentials:"include",headers:new Headers({"Content-Type":"application/json"})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.abrupt("return",(function(){return Oe.abort()}));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},Ce=Object(xe.a)({buttonLink:{textDecoration:"none"},formModal:{padding:"2%",position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},formBackground:{position:"fixed",width:"100vw",height:"100vh",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(200,200,200,.75)",display:"flex",justifyContent:"center",alignItems:"center"}}),De=Object(l.g)((function(e){var t=Ce(),a=Object(n.useState)({category:"",amount:0,date:j()().format("YYYY/MM/DD")}),o=Object(de.a)(a,2),c=o[0],l=o[1],s=e.location.props,u=function(e){l(Object(me.a)(Object(me.a)({},c),{},Object(ue.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){s&&l({category:s.category,amount:s.amount})}),[s]);var m=function(){e.history.replace("/goal"),window.location.reload()};return r.a.createElement(z.a,{className:t.formBackground},r.a.createElement(pe.a,{className:t.formModal},r.a.createElement(R.a,{variant:"h2"},s?"Edit Goal":"New Goal"),r.a.createElement(ge.a,{label:"Category",id:"category",select:!0,name:"category",value:c.category,onChange:u,placeholder:s?s.category:"Category",className:t.formField,margin:"normal",fullWidth:!0,required:!0},["Housing","Transportation","Food","Utilities","Clothing","Healthcare","Insurance","Household Supplies","Personal","Debt","Retirement","Education","Savings","Gifts/Donations","Entertainment"].map((function(e){return r.a.createElement(ve.a,{value:e,key:e},e)}))),r.a.createElement(ge.a,{variant:"outlined",label:"Amount",type:"number",name:"amount",onChange:u,value:c.amount,error:c.amount<1,helperText:c.amount<1&&"Amount must be greater than 0",placeholder:s?String(s.amount):"Amount",className:t.formField,margin:"normal",fullWidth:!0,required:!0}),r.a.createElement(Ee.a,{variant:"outlined",color:"primary",style:{marginTop:"10%"}},r.a.createElement(i.b,{to:{pathname:"/goal"},className:t.buttonLink},r.a.createElement(K.a,{variant:"outlined",color:"secondary"},"Cancel")),(s||c.amount&&c.category)&&r.a.createElement(K.a,{onClick:function(){s?ke.Update(s.id,c.category,c.amount,c.date):ke.Create(c.category,c.amount,c.date),m()}},"Save"),s&&r.a.createElement(K.a,{onClick:function(){ke.Delete(s.id),m()}},"Delete"))))})),Ne=a(268),Te=a(109),Se=a.n(Te),Ie=a(110),Me=a.n(Ie),Fe=a(111),Ye=a.n(Fe),Be=Object(ne.a)((function(e){return{theme:e,root:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",padding:"0 2%",width:"96%",minWidth:"400px",margin:"2vh 0",backgroundColor:"rgb(75,100,255)",color:"#FFF"}}})),Ae=function(){var e=Be(),t=Object(s.c)(A),a=Object(s.b)();return r.a.createElement(pe.a,{className:e.root},r.a.createElement(R.a,{variant:"h3",align:"left"},j()(t.month).format("MMM YYYY")),r.a.createElement(Ee.a,null,r.a.createElement(Ne.a,{onClick:function(){return a((e=t.month,function(t){t(B(j()(e).subtract(1,"months").format("YYYY-MM-DD")))}));var e}},r.a.createElement(Se.a,{fontSize:"large",htmlColor:"#FFF"})),r.a.createElement(Ne.a,{onClick:function(){return a((function(e){e(B(j()()))}))}},r.a.createElement(Me.a,{fontSize:"large",htmlColor:"#FFF"})),r.a.createElement(Ne.a,{onClick:function(){return a((e=t.month,function(t){t(B(j()(e).add(1,"months").format("YYYY-MM-DD")))}));var e}},r.a.createElement(Ye.a,{fontSize:"large",htmlColor:"#FFF"}))))},Le=a(82),He=a.n(Le),Ge=a(112),We=a.n(Ge),Pe=Object(ne.a)((function(e){return{root:Object(ue.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",height:"90%"},e.breakpoints.up("md"),{flexDirection:"row",justifyContent:"space-between"}),scrollList:{overflow:"hidden",overflowY:"scroll",height:"70%",width:"100%",margin:"5% 0"},body:Object(ue.a)({height:"85%",width:"80%",display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.up("md"),{width:"50%",height:"90%",alignSelf:"flex-start"}),head:Object(ue.a)({},e.breakpoints.up("md"),{width:"30%"})}})),Je=function(e){var t=Pe(),a=e.type,n=Object(s.c)(e.selector),o="goal"===a?n.goals:n.monthly;return r.a.createElement("section",{className:t.root},r.a.createElement(z.a,{className:t.head},r.a.createElement(R.a,{variant:"h2",align:"center",color:"textPrimary"},"goal"===a?"Spending Goals":"Monthly Expenses"),r.a.createElement(R.a,{variant:"h6",align:"center",style:{marginTop:"5%"}},"goal"===a?"Set budgeting goals for any category":"Track expenses for each month")),r.a.createElement(z.a,{className:t.body},o.length>0?r.a.createElement(pe.a,{className:t.scrollList},r.a.createElement("ul",null,o.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{style:{display:"flex",flexDirection:"transaction"===a?"row":"row-reverse",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"5%"}},"transaction"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{variant:"caption",textAlign:"left",style:{alignSelf:"center",marginLeft:"3%"}},r.a.createElement("strong",null,e.category," -"," ",j()(e.created_date).format("MM/DD/YYYY"))),r.a.createElement(i.b,{to:{pathname:"/edit/transaction",props:{id:e.id,category:e.category,amount:e.amount,description:e.description,date:e.created_date}}},r.a.createElement(Ne.a,null,r.a.createElement(He.a,{fontSize:"small",color:"primary"})))):r.a.createElement(i.b,{to:{pathname:"/edit/goal",props:{id:e.id,category:e.category,amount:e.amount,description:e.description}}},r.a.createElement(Ne.a,null,r.a.createElement(He.a,{fontSize:"small",color:"primary"})))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"0 3%"}},r.a.createElement(R.a,{variant:"subtitle1"},"transaction"===a?e.description:e.category),r.a.createElement(R.a,{variant:"subtitle1"},r.a.createElement("strong",null,"$",e.amount))),r.a.createElement("hr",{style:{margin:"0 3%"}}))})))):r.a.createElement(pe.a,{className:t.scrollList,style:{display:"flex",justifyContent:"center",alignItems:"center"}},"transaction"===a?r.a.createElement(R.a,{variant:"subtitle1"},"No expenses recorded.",r.a.createElement("br",null),"Let's get started!"):r.a.createElement(R.a,{variant:"subtitle1"},"No spending goals set.",r.a.createElement("br",null),"Let's get started!")),r.a.createElement(i.b,{to:"/create/".concat(a),style:{textDecoration:"none"}},r.a.createElement(pe.a,{style:{backgroundColor:"rgb(75,100,255)",paddingRight:"15px"}},r.a.createElement(Ne.a,null,r.a.createElement(We.a,{fontSize:"large",htmlColor:"white"})),r.a.createElement(R.a,{variant:"caption",align:"center",className:"CreateButton"},"Create")))))},$e=Object(ne.a)((function(e){var t;return{root:(t={padding:"0 5%"},Object(ue.a)(t,e.breakpoints.down("sm"),{height:"90%"}),Object(ue.a)(t,e.breakpoints.up("md"),{height:"30vh"}),t),scrollList:Object(ue.a)({padding:"0 3% 0 0",height:"75%"},e.breakpoints.up("md"),{overflow:"hidden",overflowY:"scroll"})}})),Ue=function(e){return r.a.createElement(z.a,{style:{display:"flex",flexDirection:"row",height:"8px",width:"100%",marginBottom:"8px"}},r.a.createElement(z.a,{style:{backgroundColor:e.max<=e.current?"rgb(225,125,125)":"rgb(125,255,125)",flex:e.current}}),r.a.createElement(z.a,{className:"growBar",style:{backgroundColor:"#f0f0f0",flex:e.max>=e.current?e.max-e.current:0}}))},ze=function(e){for(var t=e.goalState.totals,a=e.totals,n=[],o=0,c=Object.entries(t);o<c.length;o++){var l=Object(de.a)(c[o],2),i=l[0],s=l[1];"All"!==i&&n.push({category:i,amount:s})}var u=$e();return r.a.createElement(z.a,{className:u.root},r.a.createElement(R.a,{variant:"h4",align:"center"},"Goal Progress"),n.length>0?r.a.createElement("ul",{className:u.scrollList},n.map((function(e){return r.a.createElement("li",{key:e.category},r.a.createElement(z.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(R.a,{variant:"subtitle2"},e.category),r.a.createElement(R.a,{variant:"subtitle1",style:{alignSelf:"flex-end"}},"$",a[e.category]?a[e.category]:0," / $",e.amount," Spent")),r.a.createElement(Ue,{max:e.amount,current:a[e.category]?a[e.category]:0,label:e.label}))}))):r.a.createElement(z.a,{style:{width:"100%",height:"70%",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(R.a,{variant:"subtitle1"},"No goals set.",r.a.createElement("br",null),"Set spending goals to view progress!")))},Re=a(67),qe=Object(ne.a)((function(e){return{head:{marginBottom:"5%"}}})),Ve=function(e){for(var t=qe(),a=e.totals,n={labels:[],datasets:[{backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4"],hoverBackgroundColor:["#501800","#4B5000","#175000","#003350","#35014F"],data:[]}]},o=0,c=Object.entries(a);o<c.length;o++){var l=Object(de.a)(c[o],2),i=l[0],s=l[1];"All"!==i&&(n.labels[i]||(n.labels.push(i),n.datasets[0].data.push(s)))}return r.a.createElement(z.a,null,r.a.createElement(R.a,{variant:"h3",align:"center",className:t.head},"Categories"),r.a.createElement(Re.a,{data:n,height:280,options:{legend:{display:!0,position:"bottom"}}}))},_e=Object(ne.a)((function(e){var t;return{root:{flexDirection:"column",display:"flex",alignItems:"center"},body:{display:"flex",flexDirection:"row",justifyContent:"center",width:"90%",padding:"5px 15px"},chart:(t={},Object(ue.a)(t,e.breakpoints.up("md"),{width:"80%"}),Object(ue.a)(t,e.breakpoints.down("sm"),{width:"90%",marginBottom:"5%"}),t)}})),Ke=function(){var e=_e(),t=Object(s.c)(I).monthlyTotals,a=[];for(var n in t)a.push([n,t[n]]);var o=a.sort((function(e,t){return j()(e[0],"MM YY")-j()(t[0],"MM YY")})),c=o.length>12?o.slice(o.length-12):o,l={labels:[],datasets:[{label:"Monthly Total",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[]}]},i=[];return c.map((function(e){l.labels.push(e[0]),l.datasets[0].data.push(e[1]),i.push(e[1])})),r.a.createElement(z.a,{className:e.root},r.a.createElement(R.a,{variant:"h4"},"Monthly Trends"),i.length>0?r.a.createElement(z.a,{className:e.body},r.a.createElement("div",{className:e.chart},r.a.createElement(Re.b,{data:l,height:260,options:{responsive:!0,maintainAspectRatio:!0,title:{display:!1},legend:{display:!1},spanGaps:!0,scales:{yAxes:[{ticks:{maxTicksLimit:6,min:0}}]}}})),r.a.createElement("div",null,r.a.createElement(R.a,{variant:"subtitle1",align:"right"},"Max"),r.a.createElement(R.a,{variant:"subtitle2",align:"right"},"$",Math.max.apply(Math,i).toFixed(2)),r.a.createElement(R.a,{variant:"subtitle1",align:"right"},"Min"),r.a.createElement(R.a,{variant:"subtitle2",align:"right"}," ","$",Math.min.apply(Math,i).toFixed(2)),r.a.createElement(R.a,{variant:"subtitle1",align:"right"},"Avg"),r.a.createElement(R.a,{variant:"subtitle2",align:"right"},"$",(i.reduce((function(e,t){return e+t}))/i.length).toFixed(2)),r.a.createElement(R.a,{variant:"subtitle1",align:"right",color:"primary"},"Total"),r.a.createElement(R.a,{variant:"subtitle2",align:"right",color:"primary"},"$",i.reduce((function(e,t){return e+t})).toFixed(2)))):r.a.createElement(R.a,{variant:"h3"},"No transactions recorded."))},Qe=Object(ne.a)((function(e){var t,a,n;return{root:Object(ue.a)({width:"100%",height:"80vh",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},e.breakpoints.down("sm"),{flexDirection:"column",justifyContent:"flex-start",width:"100%",overflow:"hidden",overflowY:"scroll"}),content:(t={display:"flex",alignItems:"center",width:"100%"},Object(ue.a)(t,e.breakpoints.down("sm"),{flexDirection:"column"}),Object(ue.a)(t,e.breakpoints.up("md"),{height:"100%",flexDirection:"row",justifyContent:"space-between"}),t),block:(a={display:"flex",flexDirection:"column",alignItems:"center"},Object(ue.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(ue.a)(a,e.breakpoints.up("md"),{width:"30%",height:"100%",alignItems:"center",justifyContent:"center"}),a),blockPie:(n={display:"flex",flexDirection:"column",alignItems:"center"},Object(ue.a)(n,e.breakpoints.down("sm"),{width:"100%"}),Object(ue.a)(n,e.breakpoints.up("md"),{width:"40%",height:"100%",alignItems:"center",justifyContent:"center"}),n),tile:Object(ue.a)({margin:"0 0 2%",padding:"2% 0",width:"95%",maxWidth:"400px"},e.breakpoints.down("sm"),{marginBottom:"10%"}),message:Object(ue.a)({display:"flex",alignItems:"center",height:"70%",width:"70%",margin:"10% 0",padding:"0 5%"},e.breakpoints.up("md"),{width:"40%"})}})),Xe=function(){var e=Qe(),t=Object(s.c)(I),a=Object(s.c)($),n=t.categoryTotals,o=Object(s.c)(A);return r.a.createElement(z.a,{className:e.root},n.All>0?r.a.createElement(z.a,{className:e.content},r.a.createElement(z.a,{className:e.block},r.a.createElement(R.a,{variant:"h2",align:"center"},"Spending Breakdown"),r.a.createElement(R.a,{variant:"h6",align:"center",style:{margin:"5% 0 10%"}},"This month's total: $",Number.parseFloat(n.All).toFixed(2))),r.a.createElement(z.a,{className:e.blockPie},r.a.createElement(pe.a,{className:e.tile},r.a.createElement(Ve,{totals:n}))),r.a.createElement(z.a,{className:e.block},r.a.createElement(pe.a,{className:e.tile},r.a.createElement(ze,{goalState:a,totals:n,month:o.month})),r.a.createElement(pe.a,{className:e.tile},r.a.createElement(Ke,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{variant:"h2",align:"center",color:"textPrimary"},"Spending Breakdown"),r.a.createElement(pe.a,{className:e.message},r.a.createElement(R.a,{variant:"subtitle1"},"This month doesn't have any expenses on record. Record transactions for this month to receive insights!"))))},Ze=function(){var e=Object(s.b)(),t=Object(s.c)(v),a=Object(s.c)(I),o=a.monthly,c=a.hasErrorsTransactions,u=Object(s.c)(A);setTimeout((function(){e(x)}),72e5),Object(n.useEffect)((function(){var a;!0===t.loggedIn&&(e((a=u.month,function(){var e=Object(d.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(C()),e.prev=1,e.next=4,fetch("/api/v1/transactions/range",{method:"post",credentials:"include",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify({beginning:j()(a).startOf("month"),end:j()(a).endOf("month")})});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,t(S(r)),t(D()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t(N());case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())),e(function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(W()),e.prev=1,e.next=4,fetch("/api/v1/goals/all",{method:"get",credentials:"include",headers:new Headers({"Content-Type":"application/json"})});case 4:if(400!==(a=e.sent).status){e.next=9;break}t(J()),e.next=13;break;case 9:return e.next=11,a.json();case 11:n=e.sent,t(P(n));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),t(J());case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(C()),e.prev=1,e.next=4,fetch("/api/v1/transactions/all",{method:"get",credentials:"include",headers:new Headers({"Content-Type":"application/json"})});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,t(T(n)),t(D()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t(N());case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,t,u.month]);var p=Object(ne.a)((function(e){return{root:{display:"flex",height:"93vh",flexDirection:"column"},bottomNav:{alignSelf:"flex-end",justifySelf:"center",width:"100%"}}}))();return r.a.createElement(i.a,null,r.a.createElement(re.a,{theme:ie},r.a.createElement(_.a,null,r.a.createElement(z.a,{style:{display:"flex",flexDirection:"row-reverse",alignItems:"center",height:"8vh",width:"100%"}},t.loggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null)):r.a.createElement(i.b,{to:"/login",style:{textDecoration:"none"}},r.a.createElement(K.a,null,"Login"))),r.a.createElement(l.b,{path:"/login"},r.a.createElement(z.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(he,null))),t.loggedIn?c?r.a.createElement(z.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100vw",height:"80vh"}},r.a.createElement(R.a,{variant:"body1"},"An error has occurred with our system. Please try again later!")):r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:p.root},r.a.createElement(Ae,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/transaction"},r.a.createElement(Je,{selector:I,type:"transaction"})),r.a.createElement(l.b,{path:"/goal"},r.a.createElement(Je,{selector:$,type:"goal"})),r.a.createElement(l.b,{path:"/breakdown"},r.a.createElement(Xe,null)),r.a.createElement(l.b,{path:"/create/transaction"},r.a.createElement(je,null)),r.a.createElement(l.b,{path:"/edit/transaction",render:function(e){return r.a.createElement(je,e)}}),r.a.createElement(l.b,{path:"/create/goal"},r.a.createElement(De,null)),r.a.createElement(l.b,{path:"/edit/goal",render:function(e){return r.a.createElement(De,e)}}))),r.a.createElement(q.a,{showLabels:!0,className:p.bottomNav},r.a.createElement(V.a,{label:"Transactions",icon:r.a.createElement(X.a,null),component:i.b,to:"/transaction"}),r.a.createElement(V.a,{label:"Goals",icon:r.a.createElement(ee.a,null),component:i.b,to:"/goal"}),r.a.createElement(V.a,{label:"Breakdown",icon:r.a.createElement(ae.a,null),component:i.b,to:"/breakdown"}))))):r.a.createElement(l.a,{to:"/login"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var et=a(36),tt=a(117),at=a.n(tt),nt=a(118),rt=a(19),ot=Object(rt.c)({transactions:M,goals:U,ui:L,auth:E}),ct={key:"root",storage:at.a},lt=Object(et.g)(ct,ot),it=Object(p.a)({reducer:lt,middleware:Object(p.c)({serializableCheck:{ignoredActions:[et.a,et.f,et.b,et.c,et.d,et.e]}})}),st=Object(et.h)(it);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:it},r.a.createElement(nt.a,{loading:null,persistor:st},r.a.createElement(Ze,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[127,1,2]]]);
//# sourceMappingURL=main.6db7aa21.chunk.js.map